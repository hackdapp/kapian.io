# #技术卡片 单例模式 20200806

![](http://cdn.hackdapp.com/2020-08-06-20200806%20-%20%E6%8A%80%E6%9C%AF%E5%8D%A1%E7%89%87%E4%B9%8B%E5%8D%95%E4%BE%8B%20%E6%A8%A1%E5%BC%8F.png)

单例设计模式, 也就是一个类只允许创建一个实例对象，从而实现共用资源的重复性调用。比如：日志类、全局配置类等。

为什么使用单例呢？解决访问同一资源导致的冲突问题；解决全局唯一性问题，比如全局 ID 生成器

在 Java 语言中实现单例模式，有五种方式：

- 饿汉式，在类被加载时就被初始化，但不支持延迟加载；
- 懒汉式，虽说解决了延迟加载，但因为锁粒度比较大，导致并发性能不怎么高；
- 双重检测式，既解决了延迟加载，也满足了高性能需求，但注意需要在成员变量上添加 volatile 关键字，防止指令重排序导致类初始化不完全问题；
- 静态内部类，相对于双重检测，则在实现方式上都加简洁；
- 枚举方式，通过 Java 枚举类型本身的特性，保证了线程的安全与实例的唯一性。
